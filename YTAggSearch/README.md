### YT的搜索项目

#### 前端：

基于Vue3 + Ant Design Vue开发

1. 基于Vue3 + Ant Design Vue开发，使用Tab组件 + Vue的动态路由实现统一页面布局
2. 通过Vue Router将query参数将搜索条件同步到url中，解决刷新页面后搜索结果丢失的问题



#### 后端

1. 数据源获取
   1. 使用HttpClient和Hutool的JSONUtil爬取和解析数据并存入数据库
   2. 使用jsoup实时请求bing搜索接口获取图片，并使用CSS Selector语法解析和预处理图片信息，并返回给前端
2. 为实现多类数据源的整体搜索，使用门面模式在后端对各类数据源的搜索结果进行聚合，统一返回给前端，减少了前端请求次数（N次到1次）以及前端开发复杂度。并通过CompletableFature并发搜索各类数据源进一步提升搜索接口性能
3. 为了提高聚合搜索接口的通用性，首先通过定义数据源接口来实现统一的数据源接入标准，当新数据源需要接入的时候，只需要使用适配器模式对其数据查询接口进行封装，以适配数据源接口，无需修改原有代码，提高了系统的可拓展性
4. 为减少代码的圈复杂度，使用注册器模式代替if else来管理数据源对象
5. 使用Elasticsearch来代替MySQL的模糊查询，只在ES中存储要检索的，修改不频繁的字段用于检索，而修改频繁的数据，从数据库中关联查询
6. 数据同步：
   - 使用Spring Schedule定时同步近5分钟内发生更新的MySQL文章数据到ES
   - 搭建Logstash实现每分钟同步MySQL的文章数据到ES





### 后续开发计划

#### 五月份：

1. 前端框架从vue重构为react
2. 将各个搜索部分构建为不同的节点，搭建一个微服务项目，使用Dubbo框架进行通信
3. 使用one-api插件，生成请求代码
4. 搜索的防抖
5. 设置无限滚动列表
6. （使用Canal监听MySQL，数据同步）



